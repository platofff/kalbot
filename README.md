# kalbot

Бот с нескучными демотиваторами. В перспективе возможны другие фронтенды помимо вконтакте. Работает (на момент написания ридми) вот здесь: https://vk.com/kallinux

#### Функции:
- Демотиваторы из пересланных сообщений/картинок/полностью автоматические
- Споры для редактора http://objection.lol/maker из пересланных сообщений
- Другие мелочи

## Как использовать?
#### Требования:
- База данных MySQL 5.6+
- CPython 3.7-3.8
- ImageMagick 7.0.11+ с поддержкой Pango

Импорт необходимых для работы бота таблиц в базу данных: `mysql -u <пользователь> -p <имя базы данных> < db_init.sql`

#### Конфигурация
Есть 2 пути: править yaml конфиги (mysql.yaml и vkapi.yaml) и переменные окружения:
```
DATABASE_URL=mysql://<логин>:<пароль>@<адрес сервера>/<имя базы данных>
VK_BOT_GID=<ID группы ВК>
VK_BOT_TOKEN=<токен доступа группы ВК>
```
Боту требуются права на управление сообществом, сообщения сообщества, фотографии и документы.

#### Запуск

##### Docker
```
docker build -t kalbot .
docker run kalbot
```
##### Pipenv
```
pipenv install
pipenv run python main.py
```
